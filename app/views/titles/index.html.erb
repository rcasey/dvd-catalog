<h1>Listing DVD Titles</h1>

<%= will_paginate @titles %>

<table>
  <thead>
    <tr>
      <th>Index#</th>
      <th>Cat#</th>
      <th>Title</th>
      <th>Year published</th>
      <th>Category</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @titles.each_with_index do |title, index| %>
      <tr>
        <td><%= index+1 %></td>
        <td><%= category_index(title)+1 %></td>
        <td><%= title.title %></td>
        <td><%= title.year_published %></td>
        <td><%= title.category.try(:category_name) %></td>
        <td><%= link_to 'Show', title %></td>
        <td><%= link_to 'Edit', edit_title_path(title) %></td>
        <td><%= link_to 'Destroy', title, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Title', new_title_path %>
